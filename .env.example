# ============================================================================
# Environment Variables Configuration
# Educational Note: Copy this file to .env and update with your values
# NEVER commit .env to version control (it's in .gitignore)
# ============================================================================

# ============================================================================
# General Configuration
# ============================================================================
DEBUG=False
LOG_LEVEL=INFO
ALLOWED_HOSTS=localhost,127.0.0.1

# ============================================================================
# API Gateway Configuration
# ============================================================================
API_GATEWAY_PORT=80

# ============================================================================
# Service Ports (gRPC)
# ============================================================================
USER_SERVICE_GRPC_PORT=50051
PRODUCT_SERVICE_GRPC_PORT=50052

# ============================================================================
# Secret Keys
# Educational Note: Generate strong random keys for production
# Python: python -c "import secrets; print(secrets.token_urlsafe(50))"
# OpenSSL: openssl rand -base64 50
# ============================================================================

# Django Secret Keys (one per service)
USER_SERVICE_SECRET_KEY=change-this-to-a-random-50-character-string
PRODUCT_SERVICE_SECRET_KEY=change-this-to-a-random-50-character-string
ORDER_SERVICE_SECRET_KEY=change-this-to-a-random-50-character-string

# Field Encryption Key (for django-encrypted-model-fields)
# Educational Note: This encrypts sensitive database fields (e.g., user_id in orders)
FIELD_ENCRYPTION_KEY=change-this-to-a-random-32-character-string

# Service-to-Service Authentication Secret
# Educational Note: Used for gRPC authentication between services
SERVICE_SECRET=change-this-to-a-random-50-character-string

# ============================================================================
# JWT Configuration
# Educational Note: Token lifetimes in minutes
# ============================================================================
JWT_ACCESS_TOKEN_LIFETIME=15
JWT_REFRESH_TOKEN_LIFETIME=10080

# ============================================================================
# Database Configuration
# Educational Note: For production, use PostgreSQL instead of SQLite
# PostgreSQL example: postgresql://user:password@host:5432/dbname
# ============================================================================
USER_SERVICE_DATABASE_URL=sqlite:///data/db.sqlite3
PRODUCT_SERVICE_DATABASE_URL=sqlite:///data/db.sqlite3
ORDER_SERVICE_DATABASE_URL=sqlite:///data/db.sqlite3

# ============================================================================
# Resilience Configuration
# Educational Note: Retry and circuit breaker settings
# ============================================================================
RETRY_ATTEMPTS=3
RETRY_MIN_WAIT=1
RETRY_MAX_WAIT=10
CIRCUIT_BREAKER_FAIL_MAX=5
CIRCUIT_BREAKER_TIMEOUT=30

# ============================================================================
# Frontend Configuration
# ============================================================================
VITE_API_BASE_URL=http://localhost

# ============================================================================
# Production Database Configuration (PostgreSQL)
# Uncomment and configure for production use
# ============================================================================
# POSTGRES_USER=microservices_user
# POSTGRES_PASSWORD=change-this-to-a-strong-password
# POSTGRES_DB_USER=user_service_db
# POSTGRES_DB_PRODUCT=product_service_db
# POSTGRES_DB_ORDER=order_service_db
# POSTGRES_HOST=postgres
# POSTGRES_PORT=5432

# USER_SERVICE_DATABASE_URL=postgresql://${POSTGRES_USER}:${POSTGRES_PASSWORD}@${POSTGRES_HOST}:${POSTGRES_PORT}/${POSTGRES_DB_USER}
# PRODUCT_SERVICE_DATABASE_URL=postgresql://${POSTGRES_USER}:${POSTGRES_PASSWORD}@${POSTGRES_HOST}:${POSTGRES_PORT}/${POSTGRES_DB_PRODUCT}
# ORDER_SERVICE_DATABASE_URL=postgresql://${POSTGRES_USER}:${POSTGRES_PASSWORD}@${POSTGRES_HOST}:${POSTGRES_PORT}/${POSTGRES_DB_ORDER}

# ============================================================================
# Redis Configuration
# Educational Note: Redis provides fast in-memory caching
# ============================================================================
REDIS_HOST=redis
REDIS_PORT=6379
REDIS_URL=redis://redis:6379/0

# ============================================================================
# Email Configuration (Optional - for 2FA backup codes, notifications)
# ============================================================================
# EMAIL_BACKEND=django.core.mail.backends.smtp.EmailBackend
# EMAIL_HOST=smtp.gmail.com
# EMAIL_PORT=587
# EMAIL_USE_TLS=True
# EMAIL_HOST_USER=your-email@gmail.com
# EMAIL_HOST_PASSWORD=your-app-specific-password

# ============================================================================
# Monitoring Configuration (Optional)
# ============================================================================
# SENTRY_DSN=https://your-sentry-dsn
# PROMETHEUS_ENABLED=True
# JAEGER_AGENT_HOST=jaeger
# JAEGER_AGENT_PORT=6831
